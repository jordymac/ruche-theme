/*
 * Ruche Brand Styling
 * Applies brand-specific overrides for Ruche's quiet luxury aesthetic
 * Colors: Uses Shopify color scheme variables for consistency
 * Fonts: Arpona (headings), Neue Haas Grotesk (body), This Reality (accent)
 */

:root {
  --header-height: 80px; /* Default header height, will be updated by JavaScript */
}

/* Note: Color schemes now work as designed in Shopify
   - scheme-1 and scheme-2 will use default light colors
   - scheme-3 will use dark background with white text
   - Use color scheme settings in theme customizer to control colors
*/

/* Apply Ruche fonts globally when configured */
body {
  font-family: 'Neue Haas Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  letter-spacing: 0.01em;
}

h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6,
.h0 {
  font-family: 'Arpona', Georgia, serif;
  font-weight: 400;
  letter-spacing: -0.01em;
}

/* Minimal, editorial button style */
.button,
button,
[type="button"],
[type="submit"] {
  font-family: 'Neue Haas Grotesk', sans-serif;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  font-size: 0.875rem;
  font-weight: 500;
  transition: opacity 0.3s ease, transform 0.3s ease; /* Only animate GPU-accelerated properties */
  will-change: transform; /* Hint for GPU acceleration */
}

/* Accent font for special callouts */
.ruche-accent,
blockquote,
.quote {
  font-family: 'This Reality', cursive;
  font-size: 1.25rem;
  color: var(--color-foreground-muted);
}

/* Refined product cards */
.card {
  transition: transform 0.3s ease;
  will-change: transform; /* Optimize for animation performance */
  contain: layout style paint; /* CSS containment for better rendering */
}

.card:hover {
  transform: translateY(-2px);
}

.card__heading {
  font-family: 'Arpona', serif;
  font-weight: 400;
  letter-spacing: 0;
}

.price {
  font-family: 'Neue Haas Grotesk', sans-serif;
  font-weight: 500;
  color: var(--color-foreground-heading);
}

/* Editorial spacing and rhythm */
.section-heading {
  font-family: 'Arpona', serif;
  font-weight: 400;
  letter-spacing: -0.02em;
  margin-bottom: 2rem;
}

/* Minimal, clean forms */
input,
textarea,
select {
  font-family: 'Neue Haas Grotesk', sans-serif;
  border-color: var(--color-foreground-muted);
  color: var(--color-foreground-heading);
}

input:focus,
textarea:focus,
select:focus {
  border-color: var(--color-foreground-heading);
  outline: none;
  box-shadow: 0 0 0 1px var(--color-foreground-heading);
}

/* Transparent Navigation that turns white on scroll */
.header-wrapper {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  z-index: 100 !important;
  transition: background-color 0.3s ease, box-shadow 0.3s ease, backdrop-filter 0.3s ease !important;
  background-color: transparent !important;
  backdrop-filter: blur(0px) !important;
}

/* When scrolled past hero section */
.header-wrapper.scrolled-past-hero {
  background-color: rgb(var(--color-background)) !important;
  box-shadow: 0 2px 10px rgb(var(--color-shadow-rgb) / 0.08) !important;
  backdrop-filter: none !important;
}

/* Ensure text is always visible */
.header__heading-link,
.header__menu-item,
.header__icon,
.header a {
  color: var(--color-foreground-heading) !important;
  transition: color 0.3s ease !important;
}

/* Navigation refinements */
.header {
  font-family: 'Neue Haas Grotesk', sans-serif;
}

.header__heading-link {
  font-family: 'Arpona', serif;
  font-weight: 400;
  letter-spacing: 0;
}


/* Ruche-specific color utilities */
.bg-ruche-black {
  background-color: var(--color-foreground-heading);
  color: var(--color-background);
}

.bg-ruche-grey {
  background-color: var(--color-foreground-muted);
  color: var(--color-background);
}

.bg-ruche-offwhite {
  background-color: var(--color-background);
  color: var(--color-foreground-heading);
}

.text-ruche-black {
  color: var(--color-foreground-heading);
}

.text-ruche-grey {
  color: var(--color-foreground-muted);
}

.text-ruche-offwhite {
  color: var(--color-background);
}

/* Quiet luxury: minimal borders, refined shadows */
.card,
.product,
.collection-card {
  border: none;
  box-shadow: 0 1px 3px rgb(var(--color-shadow-rgb) / 0.06);
}

/* Editorial product imagery */
.media img {
  transition: opacity 0.3s ease;
}

.card:hover .media img {
  opacity: 0.95;
}

/* Refined typography scale */
h1, .h1 { font-size: 2.5rem; line-height: 1.1; }
h2, .h2 { font-size: 2rem; line-height: 1.2; }
h3, .h3 { font-size: 1.5rem; line-height: 1.3; }
h4, .h4 { font-size: 1.25rem; line-height: 1.4; }
h5, .h5 { font-size: 1.125rem; line-height: 1.4; }
h6, .h6 { font-size: 1rem; line-height: 1.5; }

/* Calm, considered spacing */
.page-width {
  max-width: 1400px;
}

section {
  padding: 4rem 0;
}

@media screen and (min-width: 750px) {
  section {
    padding: 6rem 0;
  }

  h1, .h1 { font-size: 3.5rem; }
  h2, .h2 { font-size: 2.75rem; }
  h3, .h3 { font-size: 2rem; }
}

/* Hide announcement bar */
.announcement-bar-section,
.shopify-section-group-header-group .announcement-bar-section {
  display: none !important;
}

/* Hero Section - Two Column Layout */
/* Eliminate ALL spacing at top of page for hero */
body {
  padding-top: 0 !important;
}

main {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Remove default spacing on header group */
.shopify-section-group-header-group {
  margin-bottom: 0 !important;
}

/* Target the first section (hero) specifically - ONLY ON HOME PAGE */
.template-index .shopify-section:first-of-type,
.template-index main > .shopify-section:first-child {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

.template-index .shopify-section:first-of-type .banner,
.template-index main > .shopify-section:first-child .banner {
  margin: 0 !important;
  padding: 0 !important;
  margin-top: 0 !important;
  padding-top: 0 !important;
  position: relative !important;
  top: 0 !important;
}

/* Ensure banner media has no top spacing - ONLY ON HOME PAGE */
.template-index .banner__media {
  margin-top: 0 !important;
  padding-top: 0 !important;
  top: 0 !important;
}

.template-index .banner__media::before,
.template-index .banner__media::after {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Desktop: Side-by-side columns - HOME PAGE HERO */
@media screen and (min-width: 750px) {
  .template-index .banner {
    display: flex !important;
    flex-direction: row-reverse !important; /* Image on right */
    align-items: stretch !important;
    min-height: 100vh !important; /* Full viewport height */
    position: relative !important;
  }

  .template-index .banner__media {
    position: relative !important;
    width: 50% !important;
    flex: 0 0 50% !important;
    height: auto !important;
    padding: 0 !important;
    padding-bottom: 0 !important;
    margin: 0 !important;
    margin-top: 0 !important;
    top: 0 !important;
  }

  .template-index .banner__media::before,
  .template-index .banner__media::after {
    display: none !important;
    content: none !important;
  }

  .template-index .banner__media img {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    object-position: center !important;
    margin: 0 !important;
    padding: 0 !important;
    display: block !important;
  }

  .template-index .banner__content {
    position: relative !important;
    width: 50% !important;
    flex: 0 0 50% !important;
    padding: 4rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background-color: var(--color-background) !important;
    z-index: 2 !important;
  }

  .template-index .banner__box {
    max-width: 100% !important;
    background-color: transparent !important;
    padding: 0 !important;
    text-align: left !important;
    width: 100% !important;
  }

  .template-index .banner__heading,
  .template-index .banner__text {
    text-align: left !important;
  }

  /* Remove overlay on two-column layout */
  .template-index .banner::after {
    display: none !important;
  }

  /* Product overlay image on column divider */
  .template-index .banner__product-overlay {
    position: absolute !important;
    left: 50% !important;
    top: 75% !important;
    width: 16.666% !important; /* 1/6 of total width */
    z-index: 10 !important;
    pointer-events: none !important;
    opacity: 0;
    animation: slideUpFadeIn 1.2s cubic-bezier(0.16, 1, 0.3, 1) 0.4s forwards;
  }

  .template-index .banner__product-overlay-image {
    width: 100% !important;
    height: auto !important;
    display: block !important;
    filter: drop-shadow(0 10px 30px rgb(var(--color-shadow-rgb) / 0.15)) !important;
  }

  @keyframes slideUpFadeIn {
    0% {
      opacity: 0;
      transform: translate(-50%, calc(-50% + 60px));
    }
    100% {
      opacity: 1;
      transform: translate(-50%, -50%);
    }
  }
}

/* Mobile: Stack vertically - HOME PAGE HERO */
@media screen and (max-width: 749px) {
  .template-index .banner {
    display: flex !important;
    flex-direction: column !important;
  }

  .template-index .banner__content {
    position: relative !important;
    width: 100% !important;
    order: 1 !important;
    background-color: var(--color-background) !important;
    padding: 2rem 1.5rem !important;
  }

  .template-index .banner__media {
    position: relative !important;
    width: 100% !important;
    order: 2 !important;
    min-height: 400px !important;
  }

  .template-index .banner__box {
    max-width: 100% !important;
    background-color: transparent !important;
    text-align: left !important;
  }

  /* Hide product overlay on mobile */
  .template-index .banner__product-overlay {
    display: none !important;
  }
}
